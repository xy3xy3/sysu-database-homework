姓名：胡瑞康

学号：22336087

# 1.

## 题目

假设我们将模式

$ R = (A, B, C, D, E) $

分解为

$ (A, B, C) $

和

$ (A, D, E) $。

请证明，如果以下函数依赖关系集 $ F $ 成立，这种分解是无损分解的：

1. $ A \rightarrow BC $
2. $ CD \rightarrow E $
3. $ B \rightarrow D $
4. $ E \rightarrow A $

### 答案

无损分解的条件是：至少有一个子模式的主键能够通过原模式中的函数依赖关系得到原模式的所有属性。

1. 对于子模式 $ (A, B, C) $，它包含属性 $ A $，根据依赖关系 $ A \rightarrow BC $，我们可以得到 $ B $ 和 $ C $，因此可以通过 $ (A, B, C) $ 重构 $ (A, B, C, D, E) $ 中的部分属性。

2. 对于子模式 $ (A, D, E) $，同样包含属性 $ A $，再加上依赖关系 $ E \rightarrow A $，可以得到 $ A $，然后通过 $ CD \rightarrow E $ 也可以得到 $ E $。

3. 因此，从两个子模式中我们能够重构出原模式 $ R $，所以这个分解是无损的。

# 2.

## 题目

给出问题1中模式 $ R $ 的 BCNF 的无损分解。

### 答案

为了将模式 $ R $ 分解为 BCNF，我们需要确保每个函数依赖关系的左侧都是超键。

1. 检查 $ A \rightarrow BC $：$ A $ 不是超键，因此需要分解。

   分解为：
   - $ R1(A, B, C) $
   - $ R2(A, D, E) $

2. 检查 $ CD \rightarrow E $：$ CD $ 也不是超键，进一步分解。

   分解为：
   - $ R3(C, D, E) $
   - $ R4(A, B, C) $

3. 最后，我们得到的 BCNF 的分解为：
   - $ R1(A, B, C) $
   - $ R3(C, D, E) $

这个分解是无损的，因为所有的属性都能够通过依赖关系进行重构。

# 3.

## 题目

对问题1的模式 $ R $ 进行 3NF 分解，同时保持无损和依赖。

### 答案

为了将模式 $ R $ 分解为 3NF，我们需要遵循以下步骤：

1. 检查所有函数依赖关系，确定主键和非主属性。

   - $ A $ 是主键。
   - $ B $ 是部分依赖于 $ A $。
   - $ E $ 是依赖于 $ A $。

2. 根据 3NF 的要求，我们将分解为：
   - $ R1(A, B) $ （从 $ A \rightarrow B $）
   - $ R2(A, E) $ （从 $ E \rightarrow A $）
   - $ R3(C, D, E) $ （从 $ CD \rightarrow E $）

这个分解是无损的，因为能够通过属性重构原始模式。

# 4.

## 题目

证明问题1中的分解不是一个依赖保持分解。

### 答案

依赖保持分解的要求是：分解后的子模式应该能够保持原模式的所有函数依赖。

1. 在问题1的分解中，我们有 $ (A, B, C) $ 和 $ (A, D, E) $。

2. 考虑依赖关系 $ CD \rightarrow E $，该依赖关系在两个子模式中都没有被保留，因为 $ C $ 和 $ D $ 不在同一个子模式中，因此不能通过现有子模式重构该依赖关系。

3. 因此，分解不是一个依赖保持分解。
